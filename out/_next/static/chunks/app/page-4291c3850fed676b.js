(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4966:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>S});var a=t(5155),s=t(2115),n=t(1467),l=t(3300),i=t(8390),o=t(8531),d=t(4253),c=t(2085),u=t(9434);let m=(0,c.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),x=s.forwardRef((e,r)=>{let{className:t,variant:s,size:n,asChild:l=!1,...i}=e,o=l?d.DX:"button";return(0,a.jsx)(o,{className:(0,u.cn)(m({variant:s,size:n,className:t})),ref:r,...i})});x.displayName="Button";let h=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,u.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});h.displayName="Card";let f=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,u.cn)("flex flex-col space-y-1.5 p-6",t),...s})});f.displayName="CardHeader",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,u.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})}).displayName="CardTitle",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,u.cn)("text-sm text-muted-foreground",t),...s})}).displayName="CardDescription";let p=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,u.cn)("p-6 pt-0",t),...s})});p.displayName="CardContent";let g=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,u.cn)("flex items-center p-6 pt-0",t),...s})});g.displayName="CardFooter";var b=t(7489);let v=s.forwardRef((e,r)=>{let{className:t,orientation:s="horizontal",decorative:n=!0,...l}=e;return(0,a.jsx)(b.b,{ref:r,decorative:n,orientation:s,className:(0,u.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",t),...l})});v.displayName=b.b.displayName;var y=t(6766);let N=[{name:"Bolt",color:"hsl(220, 80%, 60%)",hsl:"220 80% 60%"},{name:"Dash",color:"hsl(25, 80%, 60%)",hsl:"25 80% 60%"},{name:"Sprint",color:"hsl(300, 80%, 60%)",hsl:"300 80% 60%"}],w=e=>{let{className:r,style:t}=e;return(0,a.jsx)("div",{className:(0,u.cn)("relative",r),style:t,children:(0,a.jsx)(y.default,{src:"/runner.gif",alt:"runner",layout:"fill",objectFit:"contain",unoptimized:!0})})};w.displayName="RunnerIcon";let j=e=>{let{runners:r}=e;return(0,a.jsx)("div",{className:"w-full bg-cover bg-bottom rounded-lg relative overflow-hidden border-4 border-primary/30",style:{backgroundImage:"url('/race-track-bg.svg')",height:"23rem"},children:r.map((e,r)=>(0,a.jsxs)("div",{className:"absolute transition-all duration-100 ease-linear",style:{left:"calc(".concat(e.position,"% - 40px)"),top:"".concat(200+40*r,"px"),width:"80px",height:"80px"},children:[(0,a.jsx)("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 text-center",children:(0,a.jsx)("span",{className:"bg-black/50 text-white text-xs font-bold px-2 py-1 rounded-md whitespace-nowrap",style:{textShadow:"0 0 5px hsl(var(--primary))"},children:e.name})}),(0,a.jsx)(w,{className:"w-16 h-16",style:{filter:"drop-shadow(0 0 8px ".concat(e.color,")")}}),"broken"===e.status&&(0,a.jsx)(y.default,{src:"/piedra.png",alt:"Fallen Rock",width:60,height:60,className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 animate-pulse"})]},e.id))})};j.displayName="RaceView";let k=(0,s.memo)(e=>{let{runner:r,isSelected:t,onSelect:s,disabled:n}=e;return(0,a.jsx)("button",{onClick:()=>s(r.id),disabled:n,className:(0,u.cn)("w-full text-left block cursor-pointer disabled:cursor-not-allowed rounded-lg transition-all duration-300 border-2",t?"border-primary":"border-primary/20",n?"":"hover:bg-primary/10 hover:border-primary"),"aria-pressed":t,children:(0,a.jsx)("div",{style:{"--primary":r.hsl,textShadow:"0 0 10px ".concat(r.color)},className:"p-3 rounded-md bg-card/80",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(w,{style:{},className:"h-8 w-8 shrink-0"}),(0,a.jsx)("span",{className:"font-bold text-lg truncate font-headline",children:r.name})]})})})});function S(){var e,r,t;let[d,c]=(0,s.useState)([]),[u,m]=(0,s.useState)("idle"),[b,y]=(0,s.useState)(null),[w,S]=(0,s.useState)(0),[C,R]=(0,s.useState)(null),[z,_]=(0,s.useState)(""),A=(0,s.useCallback)(()=>{c(N.map((e,r)=>({id:r+1,position:0,status:"running",...e}))),m("selecting"),y(null),S(0),R(null),_("")},[]);return(0,s.useEffect)(()=>{A()},[A]),(0,s.useEffect)(()=>{if("running"!==u)return;let e=setInterval(()=>{c(e=>e.map(e=>{if("running"!==e.status)return e;if(.005>Math.random())return{...e,status:"broken"};let r=e.position+2*Math.random()+.4;return r>=100?{...e,position:100,status:"finished"}:{...e,position:r}}))},100);return()=>clearInterval(e)},[u]),(0,s.useEffect)(()=>{if(d.length&&"running"===u){let e=d.find(e=>e.id===b);e&&S(Math.floor(10*e.position));let r=d.find(e=>"finished"===e.status);if(r){m("finished"),R(r),r.id===b?(S(1e3),_("You won! ".concat(r.name," finished first!"))):_("Your runner lost! ".concat(r.name," was the winner."));return}if((null==e?void 0:e.status)==="broken"){m("finished"),S(0),_("Oh no! Your runner, ".concat(e.name,", had to stop."));return}d.every(e=>"running"!==e.status)&&(m("finished"),_("Race over! All runners have stopped."))}},[d,u,b]),(0,a.jsxs)("main",{className:"min-h-screen text-foreground flex flex-col items-center justify-center p-4 sm:p-6 lg:p-8 font-body bg-background",children:[(0,a.jsxs)(h,{className:"w-full max-w-4xl shadow-2xl rounded-xl border-2 border-primary/30 bg-card/80 backdrop-blur-sm",style:{boxShadow:"0 0 20px hsl(var(--primary))"},children:[(0,a.jsxs)(f,{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-4xl md:text-5xl font-extrabold tracking-tighter text-primary font-headline",style:{textShadow:"0 0 10px hsl(var(--primary))"},children:"Runner Panic"}),(0,a.jsx)("p",{className:"text-muted-foreground",style:{textShadow:"0 0 5px hsl(var(--primary))"},children:"Choose your runner and may the odds be ever in your favor!"})]}),(0,a.jsxs)(p,{children:[(0,a.jsx)(j,{runners:d}),(0,a.jsx)(v,{className:"my-6 bg-primary/30"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:d.map(e=>(0,a.jsx)(k,{runner:e,isSelected:b===e.id,onSelect:y,disabled:"selecting"!==u},e.id))}),(0,a.jsxs)("div",{className:"text-center mt-6",children:["finished"===u&&(0,a.jsxs)("div",{className:"mb-4 animate-in fade-in duration-500",children:[(0,a.jsx)("p",{className:"text-2xl font-bold font-headline",style:{textShadow:"0 0 8px hsl(var(--primary))"},children:z}),C&&(0,a.jsx)(n.A,{className:"h-8 w-8 text-yellow-500 inline-block",style:{filter:"drop-shadow(0 0 5px yellow)"}})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-4 flex-wrap",children:[(0,a.jsxs)("div",{className:"p-4 rounded-lg bg-primary/10 min-w-[150px] text-center",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground font-headline",children:"Your Score"}),(0,a.jsx)("p",{className:"text-4xl font-bold text-primary",style:{textShadow:"0 0 8px hsl(var(--primary))"},children:w})]}),null!==b&&"selecting"!==u&&(0,a.jsxs)("div",{className:"p-4 rounded-lg bg-background border border-primary/30 text-center",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground font-headline",children:"Your Pick"}),(0,a.jsx)("p",{className:"text-2xl font-bold",style:{color:null==(e=d.find(e=>e.id===b))?void 0:e.color,textShadow:"0 0 8px ".concat(null==(r=d.find(e=>e.id===b))?void 0:r.color)},children:null==(t=d.find(e=>e.id===b))?void 0:t.name})]})]})]})]}),(0,a.jsxs)(g,{className:"flex justify-center items-center gap-4 pt-6",children:["selecting"===u&&(0,a.jsxs)(x,{size:"lg",onClick:()=>b&&m("running"),disabled:!b,className:"shadow-lg",style:{boxShadow:"0 0 15px hsl(var(--primary))"},children:[(0,a.jsx)(l.A,{className:"mr-2 h-5 w-5"})," Start Race"]}),"running"===u&&(0,a.jsxs)(x,{size:"lg",onClick:()=>{"running"===u&&null!==b&&(m("finished"),_("You cashed out for ".concat(w," points!")))},variant:"secondary",className:"bg-accent text-accent-foreground hover:bg-accent/80 shadow-lg",style:{boxShadow:"0 0 15px hsl(var(--accent))"},children:[(0,a.jsx)(i.A,{className:"mr-2 h-5 w-5"})," Cash Out"]}),("running"===u||"finished"===u)&&(0,a.jsxs)(x,{size:"lg",variant:"outline",onClick:A,className:"shadow-lg border-primary/50",style:{boxShadow:"0 0 15px hsl(var(--primary))"},children:[(0,a.jsx)(o.A,{className:"mr-2 h-5 w-5"})," Play Again"]})]})]}),(0,a.jsx)("footer",{className:"mt-8 text-center text-primary text-sm font-bold",style:{textShadow:"0 0 5px hsl(var(--primary))"},children:(0,a.jsx)("p",{children:"A Firebase Studio Creation"})})]})}k.displayName="RunnerSelection"},7251:(e,r,t)=>{Promise.resolve().then(t.bind(t,4966))},9434:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var a=t(2596),s=t(9688);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.QP)((0,a.$)(r))}}},e=>{var r=r=>e(e.s=r);e.O(0,[172,173,441,684,358],()=>r(7251)),_N_E=e.O()}]);